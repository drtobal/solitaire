<div class="top">
    @for (foundation of foundations; track index; let index = $index) {
    <app-pile class="foundation index-{{index}} bottom" [cards]="foundation" [visible]="true"
        (click)="solveFoundation(index)"></app-pile>
    }
    <div class="separator"></div>
    <app-pile class="active-stock bottom" [cards]="activeStock" [visible]="true"
        (click)="solveActiveStock()"></app-pile>
    <app-pile class="stock bottom" [cards]="stock" [visible]="false" (click)="solveStock()"></app-pile>
</div>

<div class="piles">
    @for (pile of piles; track index; let index = $index) {
    <div class="pile">
        <app-pile class="bottom" [cards]="pile" [stacked]="false"></app-pile>
        <app-pile class="solved-pile index-{{index}}" [ngStyle]="getSolvedPileStyle(pile.length)"
            [cards]="solvedPiles[index]" [stacked]="false" [visible]="true" [gap]="1"
            (clickCard)="moveSolvedPile(index, $event)"></app-pile>
    </div>
    }
</div>

<div>
    {{canAutoSolve() | json}}
</div>

<div>
    <button (click)="autoSolve()">Auto Complete</button>
</div>

@if (animatingCards.length > 0) {
<app-pile class="animate-pile" [ngStyle]="animatingStyle" [cards]="animatingCards" [gap]="1" [stacked]="false"
    [visible]="true"></app-pile>
}